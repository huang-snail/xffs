/*! motion v0.0.0 | (c) 2015, 2015/07/08 | loader | motion Foundation, Inc. */
!function(){!function(){!function(){if(!window.Motion){var b={version:"1.1",add:function(v,u){for(var t=window,s=arguments.callee,r=null,q=(/^([\w\.]+)(?:\:([\w\.]+))?\s*$/.test(v),RegExp.$1.split(".")),p=RegExp.$2.split("."),v=q.pop(),o=/[A-Z]/.test(v.substr(0,1)),n=function(){var c=arguments.callee.prototype.init;"function"==typeof c&&arguments.callee.caller!=s&&c&&c.apply(this,arguments)},m=0;m<q.length;m++){var l=q[m];t=t[l]||(t[l]={})}if(""!=p[0]){r=window;for(var m=0;m<p.length;m++){if(r=r[p[m]],!r){r=null;break}}}o&&"function"==typeof u?(r&&(n.prototype=new r,n.prototype.superClass=r),t[v]=n,n.prototype.constructor=n,u.call(t[v].prototype)):t[v]=u}};window.Motion=window.mo=b}}()}(),function(){Motion.add("mo.Base",function(){var b=this;this.constructor;b.constructor=function(){},b.on=function(){return box=$(this),box.on.apply(box,arguments)},b.off=function(){return box=$(this),box.off.apply(box,arguments)},b.trigger=function(){var c=$(this);return c.triggerHandler.apply(c,arguments)}})}(),function(){Motion.add("mo.Loader:mo.Base",function(){var e=this,d={empty:function(){},imgLoader:function(h,g){var j=new Image,i=new Date;j.onload=j.onerror=function(){g(h,j,new Date-i),j.onload=null},j.src=h},jsLoader:function(){var h=document.getElementsByTagName("script")[0],g=h.parentNode,l=/ded|co/,k="onload",j="onreadystatechange",i="readyState";return function(n,m,c){c=c||"gb2312";var b=document.createElement("script"),a=new Date;b.charset=c,b[k]=b[j]=function(){(!this[i]||l.test(this[i]))&&(b[k]=b[j]=null,m&&m(n,b,new Date-a),b=null)},b.async=!0,b.src=n,g.insertBefore(b,h)}}(),cssLoader:function(h,g){var j=document.head||document.getElementsByTagName("head")[0],i=new Date;node=document.createElement("link"),node.rel="stylesheet",node.href=h,j.appendChild(node),g&&g(h,node,new Date-i)},audioLoader:function(h,g){var j=new Audio,i=new Date;$(j).bind("canplaythrough",function(){g(h,j,new Date-i)}),j.src=h,j.load()},getExt:function(b){return b.match(/\.([^\.]*)$/)[0].substr(1).match(/^[a-zA-Z0-9]+/)[0]},getType:function(b){var i=d.getExt(b),h={img:["png","jpg","gif"],css:["css"],js:["js"],audio:["mp3","ogg","wav"]};for(var g in h){if(h[g].indexOf(i)>-1){return g}}return !1}},f=this.constructor;e.constructor=function(g,c){g&&this.init(g,c)},f.config={onLoading:d.empty,onComplete:d.empty,loadType:0,minTime:0,dataAttr:"preload"},e.init=function(z,y){var x=this;if("function"==typeof y){var w=y;y={onComplete:w}}x.config=$.extend(!0,{},f.config,y);var y=x.config;z=[].concat(z);var v={},u=Array.prototype.slice.call(document.querySelectorAll("[data-"+y.dataAttr+"]"));$(u).each(function(a,i){var h=$(i),g=h.attr("data-"+y.dataAttr);v[g]?v[g].push(i):(v[g]=[i],z.indexOf(g)<0&&z.push(g))}),y.event&&x.on(y.event);var t=z.length,s=0;$(z).each(function(h,g){if("object"==typeof g){t--;for(var i in g){t++}}});var r=(new Date).getTime(),q=function(g){v[g]&&$.each(v[g],function(a,i){i.removeAttribute("data-"+y.dataAttr);var h=i.tagName.toLowerCase();switch(h){case"link":i.href=g;break;case"img":case"script":case"video":i.src=g;break;default:i.style.backgroundImage="url("+g+")"}})},p=function(j,i,n,m){var l=function(){if(y.onLoading(++s,t,j,i),x.trigger("loading",[s,t,j,i]),q(j),m([s,t,j,i]),s==t){var a=(new Date).getTime()-r;y.onComplete(a),x.trigger("complete",[a])}},k=y.minTime-n;k>0?setTimeout(l,k):l()};if(z.length){var c=function(g,k,j){var i=function(l,A,o){var n=d.getType(l),o=o||function(){},m=d[n+"Loader"];void 0===m?A(l,null,0,o):m(l,function(){var B=Array.prototype.slice.call(arguments,0);B.push(o),A.apply(null,B)})};if("object"==typeof g){for(var h in g){!function(m,l){i(l,function(){var n=$(m);n.is("img")?n.attr("src",l):n.css("backgroundImage",'url("'+l+'")');var a=Array.prototype.slice.call(arguments,0);k.apply(null,a)},j)}(h,g[h])}}else{i(g,k,j)}};if(1==y.loadType){var b=0;!function(){var a=arguments.callee;c(z[b],function(){p.apply(null,arguments)},function(){b++,z[b]&&a()})}()}else{$.each(z,function(h,g){c(g,p)})}}else{y.onComplete(0),x.trigger("complete",[0])}}})}()}();